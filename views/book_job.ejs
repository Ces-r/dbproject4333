<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Service - <%= provider.username %></title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="/main.css">
</head>
<body>
    <div class="container mt-5">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
                <li class="breadcrumb-item"><a href="/providers">Providers</a></li>
                <li class="breadcrumb-item"><a href="/providers/<%= provider.id %>"><%= provider.username %></a></li>
                <li class="breadcrumb-item active">Book Service</li>
            </ol>
        </nav>

        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">Book Service with <%= provider.username %> 
                            <% if (provider.is_verified) { %>
                                <span class="badge badge-success">âœ“ Verified</span>
                            <% } %>
                        </h3>
                    </div>
                    <div class="card-body">
                        <form action="/providers/<%= provider.id %>/book" method="POST">
                            <div class="form-group">
                                <label for="service_category">Service Category</label>
                                <select class="form-control" id="service_category" name="service_category">
                                    <option value="">Select category (optional)</option>
                                    <option value="Plumbing">Plumbing</option>
                                    <option value="HVAC">HVAC (Heating & Cooling)</option>
                                    <option value="Cleaning">Cleaning</option>
                                    <option value="Electrical">Electrical</option>
                                    <option value="Landscaping">Landscaping</option>
                                    <option value="Carpentry">Carpentry</option>
                                    <option value="Painting">Painting</option>
                                    <option value="Roofing">Roofing</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="service_description">Service Description <span class="text-danger">*</span></label>
                                <textarea class="form-control" id="service_description" name="service_description" rows="4" required 
                                    placeholder="Describe the service you need in detail..."></textarea>
                                <small class="form-text text-muted">Be as specific as possible about what you need done</small>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="scheduled_date">Preferred Date <span class="text-danger">*</span></label>
                                    <input type="date" class="form-control" id="scheduled_date" name="scheduled_date" required 
                                           min="<%= new Date().toISOString().split('T')[0] %>">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="scheduled_time">Preferred Time</label>
                                    <input type="time" class="form-control" id="scheduled_time" name="scheduled_time">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="address">Service Address <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="address" name="address" required 
                                       placeholder="123 Main St, City, State ZIP">
                                <small class="form-text text-muted">Where should the service be performed?</small>
                            </div>

                            <div class="form-group">
                                <label for="price">Estimated Budget (optional)</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">$</span>
                                    </div>
                                    <input type="number" class="form-control" id="price" name="price" step="0.01" min="0" 
                                           placeholder="100.00">
                                </div>
                                <small class="form-text text-muted">Optional: Your budget for this job</small>
                            </div>

                            <div class="form-group">
                                <label for="customer_notes">Additional Notes</label>
                                <textarea class="form-control" id="customer_notes" name="customer_notes" rows="3" 
                                    placeholder="Any special instructions or requirements..."></textarea>
                            </div>

                            <hr>

                            <div class="alert alert-info">
                                <strong>Next Steps:</strong>
                                <ol class="mb-0">
                                    <li>Submit this booking request</li>
                                    <li>The provider will review and accept/decline</li>
                                    <li>Once accepted, you can track the job status</li>
                                    <li>After completion, you can leave a review</li>
                                </ol>
                            </div>

                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-lg btn-block">
                                    Send Booking Request
                                </button>
                                <a href="/providers/<%= provider.id %>" class="btn btn-secondary btn-block">Cancel</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <strong>Provider Information</strong>
                    </div>
                    <div class="card-body">
                        <h5><%= provider.username %> 
                            <% if (provider.is_verified) { %>
                                <span class="badge badge-success">âœ“</span>
                            <% } %>
                        </h5>
                        <% if (provider.description) { %>
                            <p class="text-muted"><%= provider.description %></p>
                        <% } %>
                        <hr>
                        <a href="/providers/<%= provider.id %>" class="btn btn-sm btn-outline-primary btn-block">View Full Profile</a>
                    </div>
                </div>

                <div class="card mt-3">
                    <div class="card-header">
                        <strong>ðŸ’¡ Booking Tips</strong>
                    </div>
                    <div class="card-body">
                        <ul class="mb-0">
                            <li>Be specific about your needs</li>
                            <li>Include accurate address</li>
                            <li>Mention any special requirements</li>
                            <li>Set realistic dates</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
